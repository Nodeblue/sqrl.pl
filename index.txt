SQRL - Secure QR Login

Pronounced "squirrel"

An Illustrated Guide


An easy-to-use, high security replacement for usernames and passwords.


How does SQRL work?

  <image: computer with login and QR>
  When you visit a website that supports SQRL you will be presented with a QR code to login with.
  
  <image: computer and phone showing QR>
  Using your SQRL app take a picture of the QR code.
  
  <image: confirm url and checkbox on phone>
  The SQRL app will confirm the website you are attempting to login and that you want to authenticate to the website.
  
  <image: welcome displayed on computer>
  Depending on how the website operates you may need to click login or it may automatically do it for you. Now you are authenticated without needing to type a thing!
  
  <image: tablet with QR and login, hand on tablet>
  However if you are logging in to a phone, tablet or computer directly you will be able to tap or click the QR code for your SQRL app to authenticate you. Depending on the app it may be able to verify the site automatically.


- Simple, secure. -


What's going on behind the scenes?
  
  <image: phone with cogs pointing to SQRL ID card>
  The first time you use SQRL, you will be required to invent a master password, from which a SQRL ID is cryptographically generated. This ID is a 256-bit (very very large) random number, unique and never shared.

  <image: Private Unlock key being exported to paper/file. Public Lock key saved>
  Additionally the first time using SQRL an Identity Lock (public) and an Identity Unlock (private) Key pair are generated. The Identity Unlock Key must be safely stored away from your SQRL app (such as printing it as a QR code). This will allow you to cancel and replace your SQRL ID in the event that someone was to get a hold of your master SQRL ID.
  
  <image: QR = site + challenge>
  When you visit a SQRL enabled website the QR code/link contains the website and a random cryptographic challenge number.
  
  <image: SQRL ID + website = Website ID>
  Using the website address and your SQRL ID it hashes them together to create a website unique identity. This identity will keep your SQRL ID safe and totally unique for each website you use SQRL with.
  
  <image: Site ID to Public/Private Keys>
  This identity is used to create a website specific public/private key pair. (More info: <link: http://www.youdzone.com/signature.html text:What is a Digital Signature?>)
  
  <image: challenge digitally signed with private key, includes public key>
  The random cryptographic challenge is digitally signed using your Website Private Key and sent back with your Website Public Key. The website is then able to confirm that the user who produced the signature used the private key corresponding to the public key.

  <image: challenge digitally signed, includes public key>
  The app also offers the website some puzzle pieces based on your Identity Lock key for the purpose of being able to change your SQRL ID. See <link: #idlock text: Identity Lock> below for more details.

  <image: public key verfied against sig, public key = user>  
  Once the signed random cryptographic challenge is verified the website is then able to authenticate your device. The website is able to do this by keeping track of the random cryptographic challenges it sends out.


Identity Lock: 101

  <image: DHKA equation>
  SQRL Identity Lock uses something called Diffie-Hellman (DH) Key Agreement (KA) or DHKA for short. It basically allows 2 sets of public/private keys to create an unlock code; it uses the public key of one with the private key of the other and vice versa. Both combinations will output the same unlock code. Magic (or crazy math)!  
  
  <image: 2 sets of keys, identity and random> 
  We have 1 set of Identity Lock/Unlock Keys already, this was generated when we created the SQRL ID. The 2nd set of public/private keys are randomly generated.
  
  <image: DHKA using public lock and private random = secret>  
  DHKA will generate a unlock code using the Identity Lock (public) Key and the Random Private Key. From what we know above if we used the Random Public Key and the Identity Unlock (private) Key it would generate the same unlock code.
  
  <image: random public & secret>  
  The website is sent the unlock code as well as the Random Public Key. Protecting the Identity Lock Key from being used. Using the Identity Lock Key would identify you between websites.
  
  <image: flow of unlock private and random public through DHKA = secret>  
  The Random Private Key is now permanently destroyed. From now on, THE ONLY way to recreate the unlock code is by using your Identity Unlock Key (which should be kept safely offline) and the Random Public Key (which is stored remotely at the website with the generated unlock code). The physical separation of these two keys is the essence of the Identity Lock.
  

Identity Lock: Replacing your SQRL ID 
  
  <image: Import Unlock Key>  
  From your super secret hiding place guarded by laser wielding ninjas, you will retrieve your Identity Unlock Key and import it into your SQRL app.
  
  <image: new SQRL ID>
  The SQRL app will need to generate a new SQRL ID, this will be the replacement ID.
  
  <image: challenge and random public key>  
  The website will send the SQRL app the Random Public Key it has stored and another random cryptographic challenge (same idea as previous).
  
  <image: DHKA private unlock and random public = secret>  
  Using the Random Public Key that was retrieved from the website and the imported Identity Unlock Key you will create the same unlock code that the website has stored.
  
  <image: hashed challenge + public keys> 
  The unlock code is hashed with the random cryptographic challenge, this is digitally signed using the old and new Website Private Key and sent back with the old and new Website Public Key.
  
  <image: secret + challenge = signed with keys>  
  The website can use it's copy of the unlock code to verify the results of the hash sent back to it. The digital signature that can be checked against the old Website Public Key is also verified.
  
  <image: public key>
  Once both are verfied the website is able to replace the old Website Public Key for the new Website Public Key. This check proves you not only have the SQRL ID but also the Identity Unlock Key.

Frequently Asked Questions (FAQ)

  <image: computer displaying welcome new user>  
  Can I use this to sign up to a website?
    Of course! Depending on the website it may ask your for more information like a traditional sign up process or could allow you stay anonymous.

  <image: phone with pin number> 
  What if someone steals my phone?
    Generally you will use a master password to unlock your SQRL app. It is the user's responsibility to secure the app with a strong password. Some apps could potentially offer alternative ways to secure access in the event of a stolen phone.
    In the rare and unlikely event the password securing the app is compromised (stolen phone), the SQRL protocol will allow a method of revoking your old identity and allowing you to establish a new identity with websites.

  <image: login vs QR> 
  What is the benefit over traditional usernames & passwords?
    There are no usernames or passwords to have compromised, lost or stolen.
    No keyboard interaction, great for using public computers that could log your keystrokes.
    You only need your SQRL ID, no lists of usernames and passwords to keep track of.
    There is NO WAY to link one person across sites based only on the generated website ID, websites may ask for more infomation that could be tracked.


Apps

  SQRL is still being worked out, when some apps are available they will be added here!


Resources
 
  Watch Leo & Steve discuss how SQRL works.
  <video:http://www.youtube.com/watch?v=ZrQboo3pA10>

  GRC SQRL Site <link: https://www.grc.com/sqrl/sqrl.htm> - Detailed information from the inventor.
